<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Design</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/clean-blog.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">
                    ECE5990 | Automatic Balancing Camera Mount
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li>
                        <a href="design.html">Design</a>
                    </li>
                    <li>
                        <a href="result.html">Result</a>
                    </li>
                    <li>
                        <a href="appendix.html">Appendix</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-image: url('img/post-bg.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Explore how we design automatic balancing camara mount</h1>
                        <h2 class="subheading">Designed by: Yuzhuo Sun, Hanxiang Hao</h2>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <h2 class="section-heading">
                        Servo motor control with PID
                    </h2>

                    <p>
                        <b>Introduction of motor control</b><br>
                        We can divide the motor into two classes: regular servo motors and continues rotation motors. The mainly different between the two classes is the range of changing. The regular servo motor can can change from 0 to 180 degree, while the continues rotation motor can change from 0 to 360 degree. Because of the difference, the control algorithms are different within these motors. 
                        <blockquote>•  Regular servo motor<br>
                        The control algorithm of regular servo motor is designed as variable frequency control, as the figure 1 shown below.
                        <img src="img/pwm_180.png"><br>
                        <span style="padding-left:70px">figure 1: PWM control of regular servo motor</span><br>
                        T1 is the duration of high voltage, which determines the angle of the motor; T2 is the duration of low voltage, which is fixed as 20ms. The relationship between  with the angle is:<br>
                         <span style="padding-left:200px"><img src="img/eq_180.png"></span><br>
                        •  Continues rotation motor<br>
                        The control algorithm of continues rotation motor is designed as fixed frequency control, as the figure 2 shown below. 
                        <img src="img/pwm_360.png"><br>
                        <span style="padding-left:70px">figure 2: PWM control of continues rotation motor</span><br>
                        T1 is the duration of high voltage, which determines the speed and orientation of the motor; T is the duration the whole loop, which is fixed as 20 ms. When , the orientation of the motor is clockwise and the closer to 1.3ms is , the faster the motor is; When , the orientation of the motor is counterclockwise and the closer to 1.7ms is , the faster the motor is; When , the motor will stop. 
                        </blockquote>
                        <b>PID control</b><br>
                        PID control is a useful algorithm to control a servo system especially a motor system, for its significant parameters: proportional, integral and derivative. The principle of the algorithm is shown below.
                        <span style="padding-left:200px"><img src="img/eq_pwm.png"></span><br>
                        where Kp is to calculate the error currently, Ki is to consider all the errors before and Kd is to predict the trend according to the last two errors. By adjusting these three parameters, we can make a fast, accurate and less overshooting servo system. 
                        <b>Motor control with saturation and dead zone</b><br>
                        As we introduce above, the range of regular servo motor is from 0 to 180. Hence, we need to avoid the set the duty of PWM out of the range of the motor. In order to protect the motor, we a saturation function to limit the range of duty we set and source code is shown below. <br>
                        <span style="padding-left:200px"><img src="img/code_sat.png"></span><br>
                        Moreover, in order to prevent jittering, we set a dead zone to avoid the motor moving in a small range. The source code is shown below.<br>
                        <span style="padding-left:200px"><img src="img/code_dead.png"></span><br>
                    </p>

                    <h2 class="section-heading">
                        MPU6050 decoding 
                    </h2>

                    <p>
                        The provided interfaces of the MPU6050 module are I2C and SPI and in our project, we use the I2C port. The hardware connection is shown in figure 3 below. <br>
                        <span style="padding-left:200px"><img src="img/mpu.png"></span><br>
                        <span style="padding-left:150px">Figure 3 Connection of MPU6050 with Raspberry Pi</span><br>
                        MPU6050 has a 3-axis accelerator, which can provide us the accelerations of the 3-axis: x, y, and z. We can use the data to compute the angle of roll  and pitch  and the equations are shown below.<br>
                        <span style="padding-left:150px"><img src="img/eq_mpu.png"></span><br>
                        However, to calculate Euclidian angle yaw, we need a compass to provide additional data to compute yaw. Therefore, in our project, we ignore the rotation along z axis.
                    </p>

                    <h2 class="section-heading">
                        Graphic Simulation with OpenGL and Pygame  
                    </h2>

                    <p>
                        In order to make the performance of MPU6050 visible,  
                    </p>

                    
                    

                    <h2 class="section-heading">The Final Frontier</h2>

                    <p>There can be no thought of finishing for ‘aiming for the stars.’ Both figuratively and literally, it is a task to occupy the generations. And no matter how much progress one makes, there is always the thrill of just beginning.</p>

                    <p>There can be no thought of finishing for ‘aiming for the stars.’ Both figuratively and literally, it is a task to occupy the generations. And no matter how much progress one makes, there is always the thrill of just beginning.</p>

                    <blockquote>The dreams of yesterday are the hopes of today and the reality of tomorrow. Science has not yet mastered prophecy. We predict too much for the next year and yet far too little for the next ten.</blockquote>

                    <p>Spaceflights cannot be stopped. This is not the work of any one man or even a group of men. It is a historical process which mankind is carrying out in accordance with the natural laws of human development.</p>

                    <h2 class="section-heading">Reaching for the Stars</h2>

                    <p>As we got further and further away, it [the Earth] diminished in size. Finally it shrank to the size of a marble, the most beautiful you can imagine. That beautiful, warm, living object looked so fragile, so delicate, that if you touched it with a finger it would crumble and fall apart. Seeing this has to change a man.</p>

                    <a href="#">
                        <img class="img-responsive" src="img/post-sample-image.jpg" alt="">
                    </a>
                    <span class="caption text-muted">To go places and do things that have never been done before – that’s what living is all about.</span>

                    <p>Space, the final frontier. These are the voyages of the Starship Enterprise. Its five-year mission: to explore strange new worlds, to seek out new life and new civilizations, to boldly go where no man has gone before.</p>

                    <p>As I stand out here in the wonders of the unknown at Hadley, I sort of realize there’s a fundamental truth to our nature, Man must explore, and this is exploration at its greatest.</p>

                    <p>Placeholder text by <a href="http://spaceipsum.com/">Space Ipsum</a>. Photographs by <a href="https://www.flickr.com/photos/nasacommons/">NASA on The Commons</a>.</p>
                </div>
            </div>
        </div>
    </article>

    <!-- Footer -->
    <footer>
        <hr>
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p class="copyright text-muted">
                <img class="img-responsive" src="img/cornell.jpg" alt="" height="50" width="50" align="middle">
                    Cornell University, Department of Electrical and Computer Engineering <br> Copyright &copy; Yuzhuo Sun(ys684), Hanxiang Hao(hh595)</p>
            </div>  
        </div>
    </footer>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/clean-blog.min.js"></script>

</body>

</html>
